@startuml
'=================================================
' PARTITION PRUNING - Two query paths to fact
' Full scan vs pruned scan; ScanCost = s * |F|
'=================================================

!include ../_template_styles.puml

left to right direction

component "**Query**\n<size:10>No WHERE date_key</size>" as Q_BAD <<Failure>>
component "**Query**\n<size:10>WHERE date_key IN (Dec)</size>" as Q_GOOD <<Task>>

database "**sales_fact**\n<size:10>1 TB, 365 partitions</size>\n<size:10>Partition by date_key</size>" as FACT <<Primary>>

Q_BAD -right[#D32F2F,thickness=3]-> FACT : <size:10>Full scan\n365 parts</size>
Q_GOOD -right[#00897B,thickness=3]-> FACT : <size:10>Pruned\n31 parts</size>

@enduml
