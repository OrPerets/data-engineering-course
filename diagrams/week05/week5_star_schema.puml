@startuml
'=================================================
' STAR SCHEMA - One fact table + dimension tables
' sales_fact partitioned by date_key; FK to dims
'=================================================

!include ../_template_styles.puml

top to bottom direction

database "**dim_customer**\n<size:10>customer_key, name, region</size>" as DIM_C <<Control>>

database "**dim_product**\n<size:10>product_key, name, category</size>" as DIM_P <<Task>>

database "**dim_date**\n<size:10>date_key, month, year</size>" as DIM_D <<Primary>>

database "**sales_fact**\n<size:10>customer_key, product_key, date_key, amount</size>\n<size:9>partition by date_key</size>" as FACT <<Schema>>

DIM_C -down[#1565C0,thickness=2]-> FACT : <size:11>customer_key</size>
DIM_P -down[#00897B,thickness=2]-> FACT : <size:11>product_key</size>
DIM_D -down[#3949AB,thickness=2]-> FACT : <size:11>date_key</size>

@enduml
