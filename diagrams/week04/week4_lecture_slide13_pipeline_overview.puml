@startuml
'=================================================
' ETL PIPELINE OVERVIEW - Mixed layout for PPTX
'=================================================

!include ../_template_styles.puml

top to bottom direction

rectangle "SOURCES" <<Primary>> {
    database "**DB / API**\n<size:10>Source</size>" as SRC1 <<Primary>>
    database "**Files**\n<size:10>CSV/Parquet</size>" as SRC2 <<Primary>>
    SRC1 -[hidden]down- SRC2
}

component "**Extract**\n<size:10>Read + filter</size>" as EXTRACT_STEP <<Task>>

database "**Staging**\n<size:10>Raw, DLQ</size>" as STG <<Schema>>

component "**Transform**\n<size:10>Dedup/cast</size>" as TRANSFORM_STEP <<Task>>

component "**Load**\n<size:10>MERGE</size>" as LOAD_STEP <<Control>>

database "**Target**\n<size:10>DWH/Lake</size>" as TGT <<success>>

SRC1 -right-> EXTRACT_STEP
SRC2 -right-> EXTRACT_STEP
EXTRACT_STEP -right-> STG
STG -right-> TRANSFORM_STEP
TRANSFORM_STEP -right-> LOAD_STEP
LOAD_STEP -right-> TGT

@enduml
