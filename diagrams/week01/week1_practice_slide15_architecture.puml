@startuml
top to bottom direction
skinparam linetype ortho
skinparam shadowing true
skinparam roundcorner 12
skinparam handwritten false
skinparam nodesep 35
skinparam ranksep 50

'-------------------------
' FONT & GLOBAL STYLE
'-------------------------
skinparam defaultFontName "Segoe UI, Helvetica, sans-serif"
skinparam defaultFontSize 16
skinparam defaultFontColor #2C3E50

'-------------------------
' GENERIC BOX STYLE
'-------------------------
skinparam rectangle {
    BackgroundColor #F8F9FA
    BorderColor #90A4AE
    BorderThickness 2
    FontColor #263238
    FontSize 14
    FontStyle bold
    Padding 20
}

skinparam component {
    BackgroundColor #FFFFFF
    BorderColor #78909C
    BorderThickness 1.5
    FontSize 14
    Padding 12
}

skinparam database {
    BackgroundColor #ECEFF1
    BorderColor #546E7A
    BorderThickness 1.5
    FontSize 14
    FontColor #263238
}

skinparam arrow {
    Color #607D8B
    Thickness 2.5
    FontSize 12
    FontColor #546E7A
    FontStyle italic
}

skinparam package {
    BorderThickness 2.5
    FontSize 15
    FontStyle bold
}

'-------------------------
' SEMANTIC STEREOTYPES
'-------------------------
skinparam component<<UI>> {
    BorderColor #8E24AA
    BackgroundColor #F3E5F5
    FontColor #4A148C
}

skinparam component<<Agent>> {
    BorderColor #0288D1
    BackgroundColor #E1F5FE
    FontColor #01579B
}

skinparam component<<Tool>> {
    BorderColor #2E7D32
    BackgroundColor #E8F5E9
    FontColor #1B5E20
}

skinparam component<<Config>> {
    BorderColor #F57C00
    BackgroundColor #FFF3E0
    FontColor #E65100
}

skinparam component<<Bad>> {
    BorderColor #C62828
    BackgroundColor #FFEBEE
    FontColor #B71C1C
}

skinparam component<<V1>> {
    BorderColor #F57C00
    BackgroundColor #FFF3E0
    FontColor #E65100
}

skinparam component<<V2>> {
    BorderColor #2E7D32
    BackgroundColor #E8F5E9
    FontColor #1B5E20
}

skinparam component<<up>> {
    BackgroundColor #E8F5E9
    BorderColor #2E7D32
}

skinparam component<<down>> {
    BackgroundColor #FFEBEE
    BorderColor #C62828
}

skinparam database<<up>> {
    BackgroundColor #E8F5E9
    BorderColor #2E7D32
}

skinparam database<<down>> {
    BackgroundColor #FFEBEE
    BorderColor #C62828
}

skinparam component<<success>> {
    BackgroundColor #E8F5E9
    BorderColor #2E7D32
}

skinparam component<<failure>> {
    BackgroundColor #FFEBEE
    BorderColor #C62828
}

'=================================================

title <size:24><b>üì∞ News Platform Architecture</b></size>\n<size:15>End-to-End Data Engineering Solution</size>

' NEWS PLATFORM ARCHITECTURE
package "üì• DATA SOURCES"  as A #E3F2FD/B3E5FC {
    database "üì∞ **News Sources**\n<size:12>1,000 news sites\nRSS & APIs</size>" as SOURCES
    storage "üëÜ **User Clicks**\n<size:12>500K events/day\nClick stream</size>" as CLICKS
    SOURCES -[hidden]- CLICKS
}

package "‚ö° INGESTION LAYER" as B  #FFF9C4/FFF59D {
    component "üìÑ **Article Ingestion**\n<size:11>10K articles/day\nPull-based</size>" as INGEST_ART <<Agent>>
    component "üìä **Click Ingestion**\n<size:11>Real-time streaming\nEvent-driven</size>" as INGEST_CLICK <<Agent>>
    INGEST_ART -[hidden]- INGEST_CLICK
}

package "üíæ STORAGE LAYER" as C #ECEFF1/CFD8DC {
    database "üìö **Raw Articles**\n<size:12>50M articles\n515 GB total</size>" as RAW_ART
    database "üñ±Ô∏è **Raw Clicks**\n<size:12>200M clicks\n8.8 GB total</size>" as RAW_CLICK
    RAW_ART -[hidden]- RAW_CLICK
}

package "‚öôÔ∏è PROCESSING LAYER" as D #E1F5FE/B3E5FC {
    component "üì¶ **Batch Pipeline**\n<size:11>Daily aggregation\nSpark jobs</size>" as BATCH <<Tool>>
    component "‚ö° **Streaming Pipeline**\n<size:11>5-min windows\nKafka Streams</size>" as STREAM <<Tool>>
    BATCH -[hidden]- STREAM
}

package "üìä ANALYTICS LAYER" as E #F3E5F5/E1BEE7 {
    database "üè¢ **Data Warehouse**\n<size:12>Star schema\nAggregated tables</size>" as WAREHOUSE
    cloud "üî• **Trending Service**\n<size:12>Real-time API\nTop-N articles</size>" as TRENDING
    WAREHOUSE -[hidden]- TRENDING
}

package "üéØ CONSUMPTION" as F #C8E6C9/A5D6A7 {
    component "üìà **Analytics Dashboard**\n<size:11>Daily reports\nBI tools</size>" as DASHBOARD <<UI>>
    component "üì± **News App**\n<size:11>Trending feed\nMobile & Web</size>" as APP <<UI>>
    DASHBOARD -[hidden]- APP
}

SOURCES -[#1976D2,thickness=3]-> INGEST_ART : <color:#0D47A1><b>batch pulls</b>\nHTTP/RSS</color>
CLICKS -[#F57C00,thickness=3]-> INGEST_CLICK : <color:#E65100><b>event stream</b>\nKafka</color>

INGEST_ART -[#1976D2,thickness=3]-> RAW_ART : <color:#1565C0>write\nParquet</color>
INGEST_CLICK -[#F57C00,thickness=3]-> RAW_CLICK : <color:#EF6C00>write\nAvro</color>

RAW_ART -[#7B1FA2,thickness=3]-> BATCH : <color:#4A148C><b>daily ETL</b>\n1x/day</color>
RAW_CLICK -[#388E3C,thickness=3]-> STREAM : <color:#1B5E20><b>near real-time</b>\ncontinuous</color>

BATCH -[#7B1FA2,thickness=3]-> WAREHOUSE : <color:#6A1B9A>aggregates\nSQL</color>
STREAM -[#388E3C,thickness=3]-> TRENDING : <color:#2E7D32>top-N\nwindows</color>

WAREHOUSE -[#1976D2,thickness=3]-> DASHBOARD : <color:#0D47A1><b>BI queries</b>\nSQL</color>
TRENDING -[#388E3C,thickness=3]-> APP : <color:#1B5E20><b>serve trends</b>\nREST API</color>


@enduml
